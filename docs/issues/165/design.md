# Design: agents.mdの最適化

## アーキテクチャ

本タスクはドキュメント（`agents.md`）の改修であるため、ソフトウェアアーキテクチャの変更は伴わない。
しかし、成果物である `agents.md` 自体が、AIにとっての「プロジェクトの地図」として機能するように、以下の構造的要素を持つよう再設計する。

- **メタデータ**: プロジェクトの基本情報、前提条件。
- **コンテキストマップ**: プロジェクト構造、主要ファイル、ディレクトリの役割の明確化。
- **ルールセット**: コーディング規約、コミットメッセージ規約、プロセスフロー。
- **メモリエリア**: プロジェクト固有の知識やユーザーの好みを蓄積・参照する仕組み（既存の仕組みの最適化）。

## 実装方針

開発プロセスは、以下のフェーズに分けて対話的に進行する。

### Phase 1: 調査と分析
- 指定されたWebリソース（Qiita記事、GitHubリポジトリ）の内容を取得・解析する。
- 重要なコンセプト（例：「プロジェクトの地図」、情報の粒度、コンテキストの渡し方）を抽出する。

### Phase 2: 現状分析
- 現在の `agents.md` の内容を読み込む。
- Phase 1で得た知見を基準（ベースライン）として、現状のドキュメントの不足点（ギャップ）を特定する。

### Phase 3: 段階的な改善（反復プロセス）
- 以下のトピックごとに、ユーザーと対話しながら記述内容を決定する。
    1.  **全体構造とナビゲーション**: AIが情報を探しやすくするための目次や構造。
    2.  **プロジェクト構造の説明**: ファイルツリーの表現方法と粒度。
    3.  **開発ルールとプロセス**: TDD、IDDなどのワークフローの明文化。
    4.  **技術スタックと制約**: 使用技術、バージョン、禁止事項。
- 各トピックについて、ドラフトを提示し、フィードバックを受けて修正する。

### Phase 4: 最終化
- 全てのセクションを統合し、完全な `agents.md` ファイルとして出力する。

## テスト戦略

### バリデーション
- **レビュー**: 生成された各セクションのドラフトおよび最終的な `agents.md` について、ユーザー（開発者）によるレビューを行う。
- **基準**:
    - 情報が正確か？
    - プロジェクトの実態に即しているか？
    - 冗長すぎず、AIにとって解釈しやすい明確な表現か？

### 将来的な検証
- 本改修後のAIとの対話において、コンテキスト理解度や指示への遵守率が向上しているかを継続的に観察する（本タスクの完了条件には含めないが、目的として意識する）。
