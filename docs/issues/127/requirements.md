# Requirements - Issue #127: refactor(spotify-automation): プロジェクト 監査に基づく品質向上と最適化

## 概要
プロジェクト監査（2025-12-26実施）により特定された、`spotify-automation` アプリケーションの保守性、安定性、およびパフォーマンスに関する課題を解決し、コードベースを最適化します。

## ユーザーストーリー
オートメーション開発者として、UIの変更に強く、高速で安定したテスト・実行環境を利用したい。これにより、メンテナンスコストを削減し、開発効率を向上させたい。

## 受け入れ基準 (Acceptance Criteria)

### 1. セレクタの堅牢化
- [ ] `NewEpisodePage.ts` において、テキストやCSSクラスに直接依存しているセレクタが、より安定した属性（`data-testid`、ID、name、または `getByRole`）に置き換えられていること。
- [ ] 既存のテストが正常に動作し続けること。

### 2. 明示的待機への移行
- [ ] `NewEpisodePage.ts` 内の `await page.waitForTimeout()` がすべて削除または、要素の状態やイベントを待機する適切なメソッド（`waitForSelector`, `waitForLoadState` 等）に置き換えられていること。
- [ ] テストの実行が不安定（Flaky）になっていないこと。

### 3. CLI実行環境の高速化
- [ ] `scripts/upload.sh` および `package.json` において、`ts-node` の代わりに `tsx` が使用されていること、または事前ビルドされたJSを実行する構成に変更されていること。
- [ ] CLIツールが正常に起動し、従来よりも高速に動作すること。

### 4. 未使用コードの整理
- [ ] `src/pages/EpisodesPage.ts` がプロジェクトから削除されていること。
- [ ] 削除によって他のモジュールのインポートエラーが発生していないこと。

### 5. 認証セッションの強化
- [ ] `AuthManager.ts` において、クッキーに加えて `localStorage` および `sessionStorage` の保存・復元が正しく実装されていること。
- [ ] 認証済みのセッションがより確実に維持・復元できること。
