# 2026-02-13 Issue 174 Session 1

## Overview
`audit` コマンドの汎用化とリファクタリング作業を完了した。

## Tasks
- [x] Move `.gemini/scripts/collect-audit-context.ts` to `.ops/scripts/audit.ts`
- [x] Add `pnpm --filter <project> test` logic to `.ops/scripts/audit.ts`
  - Added support for both `pnpm` (Node.js) and `poetry` (Python) testing.
- [x] Create `.gemini/skills/skill-auditor/SKILL.md`
- [x] Update `.gemini/commands/audit.toml`
- [x] Verification
  - Verified `gemini audit` (repo-wide).
  - Verified `gemini audit security-news-agent` (Python project, correctly reported missing pytest).
  - Verified `gemini audit spotify-automation` (TS project, correctly ran tests).

## Decisions
- リポジトリ固有の監査ロジックは `.ops/scripts/` に集約し、`skill-auditor` から呼び出す構成とした。
- Pythonプロジェクトの場合、`poetry run pytest` を試行するようにロジックを追加した。

## Execution Log
- `audit.ts` の移動と権限確認。
- `audit.ts` へのテスト実行ロジック追加。
- `SKILL.md` の作成。
- `audit.toml` の更新。
- 動作検証（成功・失敗ケース）。