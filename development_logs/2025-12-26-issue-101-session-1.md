# 2025-12-26 Issue #101 セッション 1

## 作業内容
- `spotify-automation` プロジェクトの `NewEpisodePage.ts` における脆弱なセレクタのリファクタリングを実施。
- Spotify Creator ページの HTML をダンプして解析し、利用可能な `data-testid` や安定した ID を特定。
- 以下のセレクタを改善：
    - `selectFileButton`: `data-testid="uploadAreaWrapper"` を起点とするセレクタに変更。
    - `titleInput`: `#title-input` を使用（既存の ID が安定していると判断）。
    - `descriptionInput`: `div[name="description"]` を使用。
    - `seasonNumberInput`: `#season-number` を使用。
    - `episodeNumberInput`: `#episode-number` を使用。
    - `nextButton` / `publishButton`: `data-testid="dialog-footer"` 内のボタンを検索するように変更し、精度を向上。
- Playwright の E2E テストを実行し、すべてのテスト（9件）が正常にパスすることを確認。

## 意思決定
- Spotify の HTML では `data-testid` が限定的にしか提供されていないため、`data-testid` がある場合は優先し、ない場合は安定した ID や属性（name等）を使用する方針とした。
- Roleベースのセレクタ（`getByRole`）は、Spotify の HTML 構造（label と input の不一致など）により、一部のフィールドで不安定になることが分かったため、確実な ID/属性ベースの指定を併用した。

## 次のステップ
- 本セッションで Issue #101 のすべてのタスクを完了。
