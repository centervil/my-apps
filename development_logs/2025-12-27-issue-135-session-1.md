# Development Log - 2025-12-27 - Issue #135 - Session 1

## 作業内容
Issue #135 「セルフホストランナー用 Dockerfile の作成と環境構築」の設計と実装を行いました。

### 1. ディレクトリと資産の準備
- `apps/infra/self-hosted-runner/` ディレクトリを作成。
- `.devcontainer/Dockerfile` をベースにした `Dockerfile` を作成。
  - Ubuntu 20.04 ベース。
  - `tigervnc`, `fluxbox`, `novnc`, `websockify` をインストールし、ブラウザ経由でのデスクトップ操作を可能に。
  - Playwright の動作に必要なシステム依存関係を同梱。
  - GitHub Actions Runner Agent (v2.321.0, arm64) をインストール。
- VNC 用の `xstartup` (Fluxbox 起動用) を作成。

### 2. 起動スクリプト (`entrypoint.sh`) の実装
- 以下の機能を備えた `entrypoint.sh` を作成。
  - VNC サーバーと noVNC の自動起動。
  - 環境変数 `RUNNER_TOKEN` を使用した GitHub Runner の自動登録・起動。
  - 起動時にリポジトリを `git clone` し、`pnpm install` で最新環境を構築する。

## 次のステップ
- 実際の Linux ホスト環境で Docker イメージをビルドし、GitHub Actions との連携を確認する。
- プライベートリポジトリ側でのワークフロー作成に着手する（Issue #136）。
